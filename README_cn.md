# 🧠 从晶体管到网页浏览器（Geohot 学习计划 TODO）

> **作者灵感**：George Hotz（Geohot）  
> **目标**：从硬件到软件，亲手构建出一个从 CPU 到网页浏览器的完整计算机系统  
> **总时长**：约 12 周  
> **使用语言**：Verilog、C、Python、Haskell、汇编  
> **模拟环境**：Verilator（FPGA 仿真）

---

## 📘 第1周：入门——绕过晶体管的捷径
> 理解晶体管与 FPGA 的关系，准备好仿真环境。

### 第1–3天：理解计算机的最底层
- [ ] 了解晶体管的基本原理  
- [ ] 理解 FPGA 是如何用晶体管实现逻辑的  
- [ ] 学习 FPGA 的基本结构（LUT、布线、逻辑块）  
- [ ] 明白 IC（集成电路）只是封装好的晶体管集合  

### 第4–5天：搭建模拟环境
- [ ] 安装并配置 **Verilator**（或其他 FPGA 仿真器）  
- [ ] 学习仿真与真实硬件的区别  
- [ ] 准备 Verilog 开发环境（编辑器 + 编译 + 运行）  

---

## ⚙️ 第2周：硬件语言与仿真
> 用 Verilog 写出第一个能“动”的程序。

### 第1–3天：点亮第一个 LED
- [ ] 学习 Verilog 基础语法  
- [ ] 编写点亮 LED 的程序  
- [ ] 使用 Verilator 运行仿真并观察结果  

### 第4–5天：构建 UART
- [ ] 学习 UART（串口通信）原理  
- [ ] 用 Verilog 实现 UART 模块  
- [ ] 理解 **MMIO（内存映射 I/O）** 概念  
- [ ] 编写串口测试程序（发送、接收、控制 LED）  

---

## 🧩 第3–5周：构建 CPU —— 理解“处理器”的本质
> 亲手实现 ARM7 处理器与汇编器。

### 第3周：汇编器（Assembler）
- [ ] 学习 ARM 汇编基础  
- [ ] 用 Python 编写汇编器  
- [ ] 输出二进制文件  
- [ ] 为 CPU 仿真准备测试程序  

### 第4–5周：ARM7 CPU 与 BootROM
- [ ] 使用 Verilog 分阶段实现 ARM7 CPU  
  - [ ] 指令获取（Fetch）  
  - [ ] 指令解码（Decode）  
  - [ ] 执行单元（Execute）  
- [ ] 构建基本流水线  
- [ ] 添加 1MB BRAM（或 SRAM）支持  
- [ ] 编写 BootROM（汇编）支持串口下载  
- [ ] 测试 CPU，运行简单汇编程序  

---

## 🧮 第6–8周：编译器与 C 语言系统
> 从汇编迈向高级语言，让系统会“编译”自己。

### 第6周：编写 C 编译器（Haskell）
- [ ] 学习编译原理基础（词法、语法、代码生成）  
- [ ] 用 Haskell 编写一个简化版 C 编译器  
- [ ] 将源代码编译为 ARM 汇编  
- [ ] 测试并优化生成结果  

### 第7周：链接器与标准库
- [ ] 编写链接器（Python）输出 ELF 文件  
- [ ] 实现最小化 **libc**：`memcpy`, `memset`, `printf`  
- [ ] 实现 `malloc` 内存分配器  
- [ ] 用编译器 + 链接器构建小程序  

### 第8周：Bootloader 与以太网控制器
- [ ] 编写以太网控制器（Verilog）  
- [ ] 理解 PHY 通信与 MMIO 设计  
- [ ] 编写 Bootloader（C）通过 UDP 网络启动内核  
- [ ] 支持网络加载程序，替代串口下载  

---

## 💻 第9–11周：操作系统 —— 我们理所当然依赖的软件
> 自制一个类 UNIX 操作系统，从内核到文件系统。

### 第9周：内存管理与 MMU
- [ ] 实现 MMU（Verilog）  
- [ ] 理解页表、TLB、地址映射  
- [ ] 在 Bootloader 中初始化 MMU  

### 第10周：系统调用与多进程
- [ ] 编写类 UNIX 内核（C）  
- [ ] 支持系统调用：`open, read, write, close`  
- [ ] 实现进程：`fork, execve, wait, sleep, exit`  
- [ ] 实现内存管理：`mmap, munmap, mprotect`  
- [ ] 添加调试接口（printf / GDB stub）  

### 第11周：文件系统与 Shell
- [ ] 构建 SD 卡控制器（Verilog）  
- [ ] 实现 FAT 文件系统（C）  
- [ ] 编写基础用户程序：  
  - [ ] `init`  
  - [ ] `shell`  
  - [ ] `download`  
  - [ ] `cat`  
  - [ ] `ls`  
  - [ ] `rm`  

---

## 🌐 第12周：浏览器与联网世界
> 让系统“上网”，并浏览网页。

### 第1–3天：网络协议栈
- [ ] 实现 TCP/IP 协议栈（C）  
- [ ] 将以太网驱动整合进内核  
- [ ] 添加网络系统调用：`send, recv, bind, connect`  

### 第4–5天：多任务与网页浏览
- [ ] 实现 `telnetd`（支持多进程连接）  
- [ ] 编写用户空间动态链接器  
- [ ] 编写简易文本浏览器（C）  
  - [ ] 使用 ANSI 终端渲染  
  - [ ] 支持基础 HTML 文本格式  

---

## 🔧 可选扩展：真实硬件实现
> 把一切从仿真搬到真实世界！

### FPGA 板设计与 Bringup
- [ ] 设计 FPGA 板（包含 USB JTAG、SD 卡、以太网等）  
- [ ] 使用 Cypress MCU 作为 JTAG 控制器  
- [ ] 使用烤箱进行回流焊接  
- [ ] 编译并下载 Verilog 到 FPGA  
- [ ] 在真实硬件上运行整个系统  

---

## ✅ 总览时间表

| 周数 | 阶段 | 主题 |
|------|------|------|
| 第1周 | 入门 | 晶体管与仿真器 |
| 第2周 | 硬件语言 | Verilog + UART |
| 第3–5周 | 处理器 | ARM7 CPU + BootROM |
| 第6–8周 | 编译器 | C 编译器 + Bootloader |
| 第9–11周 | 操作系统 | 内核 + 文件系统 + Shell |
| 第12周 | 浏览器 | TCP/IP + 文本浏览器 |
| 可选 | 物理实现 | 自制 FPGA 板 |

---

> 💡 **建议**：  
> 每完成一个阶段，写一篇学习笔记或博客。  
> 这会让整个过程变成一个完整的「从0到1的造计算机」旅程。
